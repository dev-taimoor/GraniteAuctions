<style>
  @media only screen and (max-width: 768px) {
    .hide-on-mobile {
      display: none;
    }
  }

  .flash_message {
    color: red;
    font-size: 12px;
    margin-top: 5px;
  }

  .new_user{
    width: 80%;
  }
</style>

<div style="display: flex; flex-wrap: wrap; background: #F4F7FE;">
  <div style="flex: 1; min-width: 300px; display: flex; flex-direction: column; align-items: center;">
    <h2 class="mt-5">Login</h2>
    <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
      <% if resource.errors.any? && resource.errors.full_messages.include?("Invalid email or password.") %>
        <p style="color: red;">Invalid email or password. Please try again.</p>
      <% end %>
      <div class="field">
        <%= f.label :email %><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email", style: "height: 25px; width: 100%; border: none; border-radius: 25px;", required: true %>
      </div>
      <br />

      <div class="field">
        <%= f.label :password %><br />
        <%= f.password_field :password, autocomplete: "current-password", style: "height: 25px; width: 100%; border: none; border-radius: 25px;", required: true %>
      </div>

      <%= content_tag(:div, flash[:error], :id => "flash_error", :class => "flash_message") if flash[:error] %>
      <%= content_tag(:div, flash[:notice], :id => "flash_notice", :class => "flash_message") if flash[:notice] %>
      <%= content_tag(:div, flash[:alert], :id => "flash_alert", :class => "flash_message") if flash[:alert] %>
      <br />

      <% if devise_mapping.rememberable? %>
        <div class="field">
          <%= f.check_box :remember_me %>
          <%= f.label :remember_me %>
        </div>
      <% end %>
      <br />

      <div class="actions">
        <%= f.submit "Submit", style: "background: #2B4159; color: white; width: 100%; border: none; border-radius: 25px; height: 40px;" %>
      </div>
    <% end %>
    <br />

    <div>
      Don't Have an account yet? <%= link_to "New Account", new_registration_path(resource_name) %><br /> 
    </div>
    <br>
    <br>
    <br>
  </div>

  <div style="flex: 2;" class="hide-on-mobile">
    <%= image_tag("carimage.png", alt: "Logo", class: "logo", style: "width: 100%; height: auto;") %>
  </div>
</div>
